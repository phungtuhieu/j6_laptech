<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org" th:replace="~{/layout/layout.html :: dynamic(~{::title},~{:: main})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ hàng</title>
   
 
</head>
<body> 

    <main class="d-flex justify-content-center" ng-controller="orderDetails" ng-cloak >
      <div class="wrapp px-5 py-5">
        <div class="card">
          <div class="card-body page-body" > 
              <div class="table-top d-flex justify-content-between align-items-center">
                  <div class="search-input">
                      <!--<div class="btn-searchset">
                          <i class="fa-solid fa-magnifying-glass"></i>
                      </div>
                      <form class="d-flex">
                          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                      </form>-->
                  </div>
                  <div class="wordset">
                      <ul>
                          <!-- <li>
                             <a href="" class="text-danger"><i class="fa-solid fa-file-pdf"></i></a>
                          </li>
                          <li>
                              <a href="" class="text-success"><i class="fa-solid fa-file-excel"></i></a>
                          </li> -->
                          <li>
                              <span class="small">Tổng tiền: <strong>{{total | currency:"":0 }} VND</strong> </span>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="table-center">
                  <div class="loading-page"  ng-if="isLoading">
                      <div class="spinner-border text-warning "  role="status">
                          <span class="visually-hidden">Loading...</span>
                      </div>
                  </div>
                  <div class="table-responsive">
                      <table class="table table-hover table-details">
                        <thead>
                          <tr class="tb-header">
                            <th scope="col"> </th>
                            <th scope="col">Tên sản phẩm </th>
                            <th scope="col">Giá</th>
                            <th scope="col">Số lượng</th>
                            <th scope="col">Tổng tiền sản phẩm</th>
                            <!-- <th scope="col">Thao tác</th> -->
                          </tr>
                        </thead>
                        <tbody>
                          <tr class=""  ng-repeat="od in page.content">
                            <td  class="product-thumbnail">
                              <div class="box-img">
                                 <img ng-src="{{urlImg(productImgs[$index])}}" alt=""> 
                              </div>
                             </td>
                            <td>{{od.product.name}}</td>
                            <td>{{od.price | currency:"":0  }}  </td>
                            <td>{{od.quantity}}</td>
                            <td>{{(od.quantity * od.price ) | currency:"":0 }}</td>
                            <!-- <td class="td-action ">
                               <div class="wordset">
                                  <ul>
                                      <li>
                                          <a th:href="@{/admin}" class="text-success-emphasis"><i class="fa-solid fa-eye"></i></a>
                                      </li>
                                     
                                  </ul>
                              </div>
                            </td> -->
                          </tr>
                        </tbody>
                      </table>
                      <a href="" class="btn btn-secondary" ng-click="backPage()" role="button"> Trở lại</a>
                    </div>
              </div>
              <div class="table-bottom d-flex justify-content-end align-items-center pt-4">
                  <span class="pagination-info me-2">{{page.number + 1}} trên <span >{{page.totalPages}}</span></span>
                  <nav aria-label="Page navigation " >
                      <ul class="pagination mb-0">
                        <li class="page-item"><a class="page-link" href=""  ng-class="{'disabled' : page.first}" ng-click="getPage(0)"><i class="fa-solid fa-backward-step"></i></a></li>
                        <li class="page-item"><a class="page-link" href="" ng-class="{'disabled' :  page.number <= 0 ||  page.first}" ng-click="getPage(page.number - 1)"><i class="fa-solid fa-backward"></i></a></li>
                        <li class="page-item"><a class="page-link" href="" ng-class="{'disabled' : page.number >= page.totalPages - 1 ||  page.last}" ng-click="getPage(page.number + 1)"><i class="fa-solid fa-forward"></i></a></li>
                        <li class="page-item"><a class="page-link" href="" ng-class="{'disabled' : page.last}" ng-click="getPage(page.totalPages-1)"><i class="fa-solid fa-forward-step"></i></a></li>
                      </ul>
                    </nav>
              </div>
          </div>
      </div>
      </div>
    </div>
</main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>